RewriteEngine On

# Check if the request is not for an existing file or directory
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f

# Rewrite the URL to include the .php extension internally
RewriteRule ^([^\.]+)$ $1.php [NC,L]
RewriteRule ^(.+)/$ /$1 [L,R=301]